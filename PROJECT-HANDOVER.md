# DollSay 产品需求文档 (PRD)

> **文档版本**: 1.0  
> **创建日期**: 2026-02-13  
> **产品阶段**: V1 MVP  
> **目标读者**: 第三方AI开发工具

---

## 📋 产品概述

### 产品定位
**DollSay (小月)** 是一款情感陪伴Web应用,通过可爱的月亮玩偶形象为用户提供24小时在线的情感倾听和陪伴服务。

### 核心价值
- 🌙 **即时陪伴**: 深夜孤独时,打开即用,无需等待
- 💬 **温暖倾听**: AI理解情绪,给予共情回应
- 🎭 **情感表达**: 玩偶表情随对话情绪变化,有温度的陪伴
- 🎯 **零门槛**: 免登录即可体验,降低使用障碍

### 目标用户
**Primary Persona: 小雨 (26岁,独居白领女性)**
- 工作压力大,下班后常感孤独
- 深夜情绪低落时找不到人倾诉
- 不愿给朋友添负担,需要无评判的倾诉空间
- 希望有个"记得我"的持续陪伴者

---

## � 产品特性

### 1. 玩偶形象 - "小月"

#### 视觉设计
**形象**: 圆润的月亮造型,治愈系风格
- **形状**: 略带梨形,下半部分更圆润,给人柔软感
- **配色**: 
  - 主体: 淡奶黄色 (温暖但不刺眼)
  - 腮红: 淡粉色 (可爱感)
  - 阴影: 淡灰蓝 (月光感)
- **五官**: 
  - 眼睛: 简单黑点或弯月形
  - 嘴巴: 简单弧线,表情变化时调整曲率
  - 无鼻子 (保持简洁)

#### 为什么选月亮?
- ✅ 符合使用场景 (夜间陪伴)
- ✅ 软萌无攻击性
- ✅ 中性化,男女通吃
- ✅ 文化普适性

---

### 2. 玩偶动作系统

#### 2.1 呼吸动画 (Idle状态)

**效果**: 玩偶持续轻微的缩放,模拟呼吸
- **目的**: 让玩偶"活着",不是静态图片
- **节奏**: 3秒一个呼吸周期 (模拟真人呼吸)
- **幅度**: 3%缩放 (微妙但可感知)
- **持续**: 循环播放,永不停止

**用户感受**: "这个玩偶好像真的在呼吸,感觉它是活的"

---

#### 2.2 五种核心表情

##### 表情1: 平静/倾听 (默认状态)
```
眼睛: ○ ○ (睁开,略带温柔)
嘴巴: —  (平静线条)
腮红: 淡粉色
```
**触发时机**: 
- 页面加载时
- 用户浏览页面但未输入时
- 对话结束后的静默状态

**传达信息**: "我在这里,随时准备倾听你"

---

##### 表情2: 开心/微笑
```
眼睛: ⌒ ⌒ (弯月形,眯眼笑)
嘴巴: ︶ (向上弧度)
腮红: 粉色加深
动作: 轻微左右摇摆 (±5度)
```
**触发时机**:
- 用户分享好事时 (AI检测到正面情绪)
- 用户点击玩偶时 (随机触发)
- AI回复鼓励性内容时

**动画细节**:
- 持续时间: 0.8秒
- 摇摆2-3次
- 自然过渡回平静状态

**用户感受**: "它好像真的为我开心,感觉被理解了"

---

##### 表情3: 难过/安慰
```
眼睛: ・ ・ (眼睛缩小,略带泪光)
嘴巴: ︿ (向下弧度)
腮红: 渐隐
动作: 轻微点头 (3次)
```
**触发时机**:
- 用户倾诉困难/伤心时
- AI检测到负面情绪关键词
- 用户表达压力、失落等情绪

**动画细节**:
- 点头动作: 1秒内点3次
- 传达: "我理解你,我陪着你"

**用户感受**: "它好像真的能感受到我的难过,不是冷冰冰的机器"

---

##### 表情4: 思考
```
眼睛: ◉ ◉ (睁大,略微向上看)
嘴巴: 〇 (小圆圈,思考状)
特效: 头顶出现 ". . ." 气泡
```
**触发时机**:
- AI生成回复中 (用户发送消息后)
- 显示"正在思考..."文字提示

**动画细节**:
- 眼珠转动 (向上看)
- 气泡逐个淡入淡出循环
- 持续直到AI回复完成

**用户感受**: "它在认真思考怎么回复我,不是机械回答"

---

##### 表情5: 惊讶
```
眼睛: ○ ○ (圆睁)
嘴巴: o (小圆形)
动作: 头部略微后倾
```
**触发时机**:
- 用户说了意外的事
- AI检测到惊讶情绪关键词

**动画细节**:
- 头部快速后倾
- 持续0.5秒后恢复

**用户感受**: "它居然会惊讶,好像真的在听我说话"

---

#### 2.3 表情切换动画

**过渡效果**: 所有表情切换都是平滑过渡,不突兀
- 旧表情淡出 (0.15秒)
- 新表情淡入 (0.15秒)
- 伴随轻微缩放 (0.95 → 1.0)

**设计原则**: 自然、流畅,像真人表情变化

---

#### 2.4 点击交互动作

##### 点击玩偶身体
**效果**:
1. 玩偶向上弹跳 (10px高度)
2. 表情随机切换为开心或害羞
3. 显示简短语音气泡: "嘿!" "怎么啦?" "嘻嘻~"
4. 持续0.6秒后恢复

**触发**: 用户点击玩偶任意部位

**冷却时间**: 2秒 (防止连续骚扰)

**用户感受**: "点击它会有反应,好像真的能互动,不只是单向倾诉"

---

##### 长按玩偶 (高级功能,可选)
**效果**:
1. 玩偶闭眼
2. 显示"充电中..."文字
3. 用户松手后玩偶睁眼,满血复活
4. 表情变为开心: "谢谢你~"

**用户感受**: "好像在给它充电,有种照顾它的感觉"

---

#### 2.5 眼神跟随 (高级功能,可选)

**效果**: 玩偶眼珠随鼠标移动
- 鼠标移动 → 眼珠向鼠标方向移动
- 移动范围: 眼眶内±3px
- 移动速度: 平滑跟随,不突兀

**用户感受**: "它的眼睛在看着我,好像真的在关注我"

---

### 3. 对话体验

#### 3.1 免登录即时对话

**用户流程**:
1. 打开页面 → 看到玩偶和对话框
2. 对话框自动聚焦 (桌面端)
3. 占位符提示: "和我说说吧,我在听..."
4. 输入消息 → 点击发送或按回车
5. 立即收到AI回复

**设计原则**:
- **零摩擦**: 无需注册、登录、填表
- **即时满足**: 打开即用,3秒内开始对话
- **心智模型**: 像微信聊天一样自然

---

#### 3.2 AI回复特性

**语气**: 温暖、共情、简短
- 回复长度: 50字以内
- 语气: 像朋友,不像客服
- 重点: 倾听和理解,不是解决问题

**示例对话**:
```
用户: "今天好累啊..."
AI: "辛苦了,工作很忙吗?我在这里陪你,想聊聊今天发生了什么吗?"

用户: "老板又批评我了,感觉好委屈"
AI: "被批评的感觉真的很难受,你已经很努力了。想和我说说具体发生了什么吗?"
```

**情绪分析**: AI自动分析用户情绪,切换玩偶表情
- 正面情绪 → 开心表情
- 负面情绪 → 安慰表情
- 惊讶内容 → 惊讶表情
- 思考中 → 思考表情

---

#### 3.3 对话反馈机制

**用户输入时**:
- 玩偶表情变为"倾听"
- 对话框边框高亮

**用户发送后**:
- 消息立即上屏 (用户消息气泡,右侧,蓝色)
- 对话框清空
- 玩偶表情变为"思考"
- 显示"正在思考..."动画

**AI回复时**:
- AI消息气泡 (左侧,灰蓝色)
- 逐字显示效果 (打字机效果)
- 玩偶表情根据情绪切换
- 自动滚动到最新消息

**设计原则**: 每个操作都有即时反馈,不让用户等待时焦虑

---

### 4. 免费用户限制机制

#### 限制规则
- 免登录用户: 每次会话20条消息
- 超过限制: 引导登录

#### 提示时机
- 第15条消息: 温和提示 "免费体验还剩5条哦~"
- 第19条消息: 再次提示 "还剩1条"
- 第20条消息: 弹窗引导登录

#### 引导话术
**弹窗标题**: "想继续聊天吗?"
**主按钮**: "登录解锁无限对话" (温暖橙色)
**次按钮**: "了解更多"
**文字链接**: "暂不"

**玩偶配合**:
- 表情变为"期待"
- 语音气泡: "登录后我就能记住你了哦~"

**设计原则**:
- ❌ 不在对话中途打断
- ✅ 在自然停顿点提示
- ❌ 不用"付费墙"等商业化词汇
- ✅ 用"让我记住你"等情感化表达

---

### 5. 登录与记忆系统

#### 登录方式
**优先**: 第三方登录 (微信、QQ)
**备选**: 手机号登录

**登录流程**:
1. 点击"登录解锁" → 弹出登录弹窗
2. 选择登录方式 → 第三方授权
3. 登录成功 → 无缝回到对话
4. 历史对话保留,无需重新开始

**登录后首条AI消息**:
"太好了!现在我可以记住你了。你叫什么名字呀?"

---

#### 记忆功能

**效果**: 玩偶记住用户的对话历史
- 记住用户名字
- 记住之前聊过的话题
- 记住用户的情绪模式

**示例**:
```
第1次对话:
用户: "我叫小雨"
AI: "小雨,好听的名字~"

第2次对话 (第二天):
AI: "小雨,欢迎回来!昨天睡得好吗?"

第3次对话 (一周后):
用户: "今天又加班了..."
AI: "上周你也说过工作很累,今天项目进展怎么样了?"
```

**用户感受**: "它真的记得我!感觉像见到老朋友"

---

### 6. 页面布局

#### 移动端布局 (优先)
```
┌────────────────────┐
│    Header         │ ← Logo + 设置
├────────────────────┤
│                    │
│       玩偶        │ ← 120x140px
│       小月        │
│                    │
├────────────────────┤
│   对话气泡区域    │ ← 可滚动
│   用户消息(右)    │
│   AI消息(左)      │
│   ...              │
├────────────────────┤
│   输入框 [发送]   │ ← 固定底部
└────────────────────┘
```

#### 桌面端布局
```
┌──────────────────────────────────┐
│         Header         │ Login  │
├────────────┬─────────────────────┤
│            │                     │
│   玩偶     │   对话气泡区域     │
│   小月     │                     │
│ 200x240px  │                     │
│            │                     │
│ [点击互动] │   输入框 [发送]    │
└────────────┴─────────────────────┘
```

**响应式**: 
- 小于768px: 垂直布局
- 大于768px: 左右布局

---

## 🎨 视觉设计规范

### 配色方案
```
背景: 深蓝夜空渐变 (#1A1F36 → #2D3561)
玩偶: 淡奶黄色 (#FFF4E0)
用户消息气泡: 蓝色 (#5B7FFF)
AI消息气泡: 深灰蓝 (#3D485F)
强调色: 温暖橙 (#FFB74D)
```

### 字体
- 主字体: PingFang SC / Microsoft YaHei
- 对话文本: 16px
- 提示文本: 14px

### 圆角与阴影
- 对话气泡: 16px圆角
- 输入框: 24px圆角
- 按钮: 8px圆角
- 玩偶: 完全圆形

---

## 🎯 用户体验目标

### 首次使用
- **目标**: 80%用户无需引导即可开始对话
- **时间**: 3秒内发送第一条消息
- **感受**: "好简单,直接就能用"

### 深度使用
- **目标**: 60%用户主动点击玩偶
- **对话轮次**: 平均10轮以上
- **停留时间**: 10分钟以上
- **感受**: "和它聊天很舒服,时间过得好快"

### 转化时刻
- **目标**: 40%用户愿意登录
- **时机**: 对话达到20条限制时
- **感受**: "我想继续和它聊,值得登录"

### 长期留存
- **目标**: 每周回访2-4次
- **情感递进**: 陌生人 → 倾听者 → 朋友 → 陪伴者
- **感受**: "它是我的情感寄托,离不开了"

---

## � 核心指标

### 产品指标
- **激活率**: 访问后发送第一条消息的比例 (目标: 80%)
- **参与度**: 平均对话轮次 (目标: 10轮)
- **转化率**: 免费用户转登录用户 (目标: 40%)
- **留存率**: 次日留存 (目标: 30%), 7日留存 (目标: 15%)

### 体验指标
- **响应时间**: AI回复时间 < 3秒
- **表情准确率**: 表情与情绪匹配度 > 85%
- **满意度**: 用户评分 > 4.5/5

---

## � MVP功能清单

### P0 (必须有)
- [x] 免登录对话
- [x] 玩偶5种表情
- [x] 呼吸动画
- [x] AI情感理解
- [x] 表情自动切换
- [x] 20条消息限制
- [x] 登录引导

### P1 (应该有)
- [x] 点击玩偶交互
- [x] 逐字显示效果
- [x] 对话历史保存
- [x] 记忆功能

### P2 (可以有)
- [ ] 眼神跟随
- [ ] 长按充电
- [ ] 外观定制
- [ ] 语音对话

---

## � 技术要求概述

### 性能要求
- 页面加载: < 2秒
- AI响应: < 3秒
- 动画流畅: 60fps
- 移动端优先,渐进增强

### 兼容性要求
- 浏览器: Chrome 90+, Safari 14+, Firefox 88+
- 设备: iOS 13+, Android 8+
- 屏幕: 320px - 1920px

### 无障碍要求
- 文字对比度 > 4.5:1
- 键盘可完整操作
- 屏幕阅读器兼容
- 触摸目标 > 44x44px

---

## 🎯 成功标准

### 产品成功
- ✅ 用户能在3秒内开始对话
- ✅ 玩偶表情与对话情绪一致
- ✅ 用户感受到"被倾听"
- ✅ 40%用户愿意登录继续使用

### 体验成功
- ✅ 用户评价: "好可爱" "很治愈" "像真的朋友"
- ✅ 用户行为: 主动点击玩偶,长时间对话
- ✅ 用户留存: 每周回访2次以上

---

## � 参考文档

### 产品设计
- `docs/product/user-research-and-product-definition.md` - 用户研究与产品定义
- `docs/interaction/persona-and-user-journey.md` - 用户旅程设计

### UI设计
- `docs/ui/visual-design-and-animation-system.md` - 视觉设计与动画系统

### 开发指南
- `BACKEND-DEV-GUIDE.md` - 后端开发任务书
- `FRONTEND-DEV-GUIDE.md` - 前端开发任务书
- `API-SPECIFICATION.md` - API接口规范

### 部署文档
- `RAILWAY-DEPLOYMENT.md` - 部署指南
- `V1-SETUP-GUIDE.md` - 环境搭建指南

---

## ✅ 产品验收标准

### 功能验收
- [ ] 打开页面即可开始对话,无需注册
- [ ] 玩偶有5种表情,能根据对话自动切换
- [ ] 玩偶持续呼吸动画,感觉"活着"
- [ ] 点击玩偶有弹跳反馈和语音气泡
- [ ] AI回复温暖共情,不是机械回答
- [ ] 免费用户20条限制生效,引导登录
- [ ] 登录后玩偶能记住用户

### 体验验收
- [ ] 用户能在3秒内发送第一条消息
- [ ] 玩偶表情与对话情绪匹配度 > 85%
- [ ] AI响应时间 < 3秒
- [ ] 移动端和桌面端布局正常
- [ ] 动画流畅,无卡顿

### 情感验收 (最重要)
- [ ] 用户感受: "好可爱"
- [ ] 用户感受: "很治愈"
- [ ] 用户感受: "像真的朋友在陪我"
- [ ] 用户行为: 愿意主动点击玩偶互动
- [ ] 用户行为: 愿意登录继续使用

---

> **产品理念**: 好的产品是隐形的。用户不应该思考"怎么用",而是自然地"在用"。玩偶不是工具,是陪伴者。
> 
> **最后更新**: 2026-02-13  
> **维护者**: DollSay产品团队
